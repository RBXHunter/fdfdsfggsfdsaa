local RunService = game:GetService("RunService")
local Players = game:GetService("Players")
local crateWorkspace = workspace["Game Systems"]["Crate Workspace"]
local localPlayer = Players.LocalPlayer

-- Подключение к событию Heartbeat
RunService.Heartbeat:Connect(function()
    -- Перебираем все дочерние объекты в Crate Workspace
    for _, crate in pairs(crateWorkspace:GetChildren()) do
        local stealPrompt = crate:FindFirstChild("StealPrompt")
        if stealPrompt and stealPrompt:IsA("ProximityPrompt") then
            if stealPrompt.HoldDuration ~= 0.0001 then
                stealPrompt.HoldDuration = 0.0001
            end
        end
    end
    
    -- Перебираем все Tycoon в workspace.Tycoon.Tycoons
    for _, tycoon in pairs(workspace.Tycoon.Tycoons:GetChildren()) do
        local ownerValue = tycoon:FindFirstChild("Owner")
        if ownerValue and ownerValue:IsA("ObjectValue") and ownerValue.Value == localPlayer then
            -- Нашли Tycoon, принадлежащий локальному игроку
            local sellPrompt = tycoon.Essentials["Oil Collector"].CratePromptPart.SellPrompt
            if sellPrompt and sellPrompt:IsA("ProximityPrompt") then
                if sellPrompt.MaxActivationDistance ~= 20 then
                    sellPrompt.MaxActivationDistance = 20
                end
                if sellPrompt.HoldDuration ~= 0 then
                    sellPrompt.HoldDuration = 0
                end
            end
        end
    end
end)
